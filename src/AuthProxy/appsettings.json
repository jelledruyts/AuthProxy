{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Yarp": "Information",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  "AllowedHosts": "*",
  "AuthProxy": {
    "Backend": {
      "Url": "https://localhost:7262"
    },
    "Authentication": {
      "Cookie": {
        "Name": ".AuthProxy",
        "IsPersistent": true
      },
      "TokenIssuer": {
        "Audience": "AuthProxy.BackendApp",
        "Issuer": "AuthProxy",
        "Expiration": "01:00:00",
        "SigningCertificates": [
          {
            "Path": "<set in user secrets>",
            "Password": "<set in user secrets>"
          }
        ]
      },
      "DefaultIdentityProvider": "aad",
      "IdentityProviders": [
        {
          "Name": "aad",
          "Type": "AzureAD",
          "Authority": "https://login.microsoftonline.com/identitysamples.onmicrosoft.com/v2.0",
          "ClientId": "6ab86b39-f8f6-45c8-82c3-8109a37ab6d2",
          "ClientSecret": "<set in user secrets>",
          "Scopes": [
            "email"
          ],
          "AllowedAudiences": [
            "6ab86b39-f8f6-45c8-82c3-8109a37ab6d2"
          ]
        },
        {
          "Name": "b2c",
          "Type": "AzureADB2C",
          "Authority": "https://identitysamplesb2c.b2clogin.com/tfp/47125378-ea52-49bd-8526-43de6833f4aa/B2C_1_TestSignUpOrIn/v2.0/",
          "ClientId": "de7cb9b6-232f-4baa-8007-869e428cceac",
          "ClientSecret": "<set in user secrets>",
          "Scopes": [
            "de7cb9b6-232f-4baa-8007-869e428cceac" // Request an "access_token" for the API represented by the same application as part of the auth code flow. This is done (by convention) by requesting the application's Client ID as the scope.
          ],
          "AllowedAudiences": [
            "de7cb9b6-232f-4baa-8007-869e428cceac"
          ],
          "AdditionalParameters": [
            "ui_locales=nl"
          ],
          "ClaimTransformations": [
            "roles=extension_AppRoles"
          ]
        },
        {
          "Name": "auth0",
          "Type": "OpenIdConnect",
          "Authority": "https://kontoso.eu.auth0.com/",
          "ClientId": "YwAZLu1e2UmE8qmNaX1HKMtHnVxftTWY",
          "ClientSecret": "<set in user secrets>",
          "Scopes": [
            "email",
            "address",
            "phone"
          ],
          "AllowedAudiences": [
            "YwAZLu1e2UmE8qmNaX1HKMtHnVxftTWY"
          ],
          "ClaimTransformations": [
            "nickname",
            "name",
            "picture",
            "updated_at",
            "email",
            "email_verified"
          ]
        }
      ]
    },
    "Policies": {
      "Inbound": [
        {
          "PathPatterns": [
            "/account"
          ],
          "Action": "Authenticate"
        },
        {
          "PathPatterns": [
            "/admin"
          ],
          "Action": "Authenticate",
          "IdentityProviders": [
            "aad"
          ]
        },
        {
          "PathPatterns": [
            "/consumer"
          ],
          "Action": "Authenticate",
          "IdentityProviders": [
            "b2c",
            "auth0"
          ]
        },
        {
          "PathPatterns": [
            "/privacy"
          ],
          "Action": "Allow"
        },
        {
          "PathPatterns": [
            "/secret"
          ],
          "Action": "Deny"
        }
      ]
    }
  }
}